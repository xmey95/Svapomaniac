<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>FnF</title>

    <link rel="shortcut icon" type="image/x-icon" href="assets/favicon-folder-open-o.ico">

    <!-- build:inlinecss -->
    <link rel="stylesheet" href="lib/bootstrap-4.0.0.a2.min.css">
    <link rel="stylesheet" href="lib/ag-grid-2.3.5.min.css">
    <link rel="stylesheet" href="lib/polymer-layout.css">
    <link rel="stylesheet" href="lib/farbtastic.css">
    <link rel="stylesheet" href="fnf/app.css">
    <link rel="stylesheet" href="fnf/app.color.css">
    <!-- endbuild -->

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">-->
    <link rel="stylesheet" href="assets/font-awesome-4.5.0/css/font-awesome.min.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto&subset=latin' >

    <!-- build:js js/lib.js -->
    <script src="lib/jquery-2.1.4.min.js"></script>
    <script src="lib/keypress-2.1.3.min.js"></script>
    <script src="lib/angular-1.4.8.js"></script>
    <script src="lib/angular-sanitize.js-1.4.8.js"></script>
    <script src="lib/tether-1.1.1.min.js"></script>
    <script src="lib/bootstrap-4.0.0.a2.min.js"></script>
    <script src="lib/socket.io-1.7.3.min.js"></script>
    <script src="lib/ag-grid-2.3.5.min.js"></script>
    <script src="lib/async-1.5.2.min.js"></script>
    <script src="lib/ui-bootstrap-tpls-1.2.4.min.js"></script>
    <script src="lib/farbtastic.js"></script>
    <!-- endbuild -->

    <!-- build:js1 js/main.js -->
    <script src="fnf/app.js"></script>
    <script src="fnf/app.controller.js"></script>
    <script src="fnf/main.service.js"></script>

    <script src="fnf/grid/grid.service.js"></script>
    <script src="fnf/grid/gridmodel.factory.js"></script>
    <script src="fnf/grid/gridoptions.factory.js"></script>
    <script src="fnf/grid/gridicon.service.js"></script>

    <script src="fnf/gui/filterinput/filter.input.directive.js"></script>
    <script src="fnf/gui/folderbutton/folder.btn.directive.js"></script>
    <script src="fnf/gui/filecount/filecount.directive.js"></script>
    <script src="fnf/gui/menuitem/menuitem.directive.js"></script>
    <script src="fnf/gui/menuitem/toolmenuitem.directive.js"></script>
    <script src="fnf/gui/pathlabel/path.label.directive.js"></script>

    <script src="fnf/gui/click/rightclick.directive.js"></script>
    <script src="fnf/gui/click/longclick.directive.js"></script>
    <script src="fnf/gui/click/longpress.directive.js"></script>
    <script src="fnf/gui/color/color.popover.directive.js"></script>

    <script src="fnf/drop/drag.enter.directive.js"></script>
    <script src="fnf/drop/drag.over.directive.js"></script>
    <script src="fnf/drop/drag.leave.directive.js"></script>
    <script src="fnf/drop/drop.directive.js"></script>
    <script src="fnf/drop/dropzone.directive.js"></script>

    <script src="fnf/drop/drop.action.controller.js"></script>
    <script src="fnf/drop/drop.action.service.js"></script>

    <script src="fnf/filelist/socket.service.js"></script>
    <script src="fnf/filelist/file.socket.service.js"></script>
    <script src="fnf/filelist/folder.service.js"></script>
    <script src="fnf/filelist/folder.action.service.js"></script>
    <script src="fnf/filelist/eventcache.factory.js"></script>
    <script src="fnf/filelist/tab.service.js"></script>

    <script src="fnf/common/history.service.js"></script>
    <script src="fnf/common/constants.service.js"></script>
    <script src="fnf/common/data.service.js"></script>
    <script src="fnf/common/notify.service.js"></script>
    <script src="fnf/common/app.keyboard.service.js"></script>
    <script src="fnf/common/keyboard.service.js"></script>
    <script src="fnf/common/init.service.js"></script>
    <script src="fnf/common/clipboard.service.js"></script>

    <script src="fnf/action/action.label.mapping.service.js"></script>
    <script src="fnf/shortcut/shortcut.service.js"></script>

    <script src="fnf/dialog/dialog.action.mapping.service.js"></script>
    <script src="fnf/dialog/dialog.service.js"></script>

    <script src="fnf/action/action.service.js"></script>
    <script src="fnf/action/executor.factory.js"></script>
    <script src="fnf/action/actionqueue.service.js"></script>

    <script src="fnf/action/jobqueue/job.controller.js"></script>
    <script src="fnf/action/jobqueue/job.gridoptions.factory.js"></script>
    <script src="fnf/action/jobqueue/job.service.js"></script>

    <script src="fnf/action/gotoanything/gotoanything.controller.js"></script>
    <script src="fnf/action/gotoanything/gotoanything.service.js"></script>

    <script src="fnf/commands/shell/shell.action.service.js"></script>
    <script src="fnf/commands/openfile/openfile.action.service.js"></script>
    <script src="fnf/commands/command.service.js"></script>
    <script src="fnf/commands/chdir/chdir.action.controller.js"></script>
    <script src="fnf/commands/chdir/chdir.action.service.js"></script>
    <script src="fnf/commands/chdir/chdir.gridoptions.factory.js"></script>
    <script src="fnf/commands/find/search.service.js"></script>
    <script src="fnf/commands/delete/delete.action.service.js"></script>
    <script src="fnf/commands/delete/delete.action.controller.js"></script>
    <script src="fnf/commands/deleteemptyfolders/emptyfolders.action.service.js"></script>
    <script src="fnf/commands/deleteemptyfolders/deleteemptyfolders.action.controller.js"></script>
    <script src="fnf/commands/copy/copy.action.service.js"></script>
    <script src="fnf/commands/copy/copy.action.controller.js"></script>
    <script src="fnf/commands/groupfiles/groupfiles.action.service.js"></script>
    <script src="fnf/commands/groupfiles/groupfiles.action.controller.js"></script>
    <script src="fnf/commands/groupfiles/groupfiles.table.service.js"></script>
    <script src="fnf/commands/move/move.action.service.js"></script>
    <script src="fnf/commands/move/move.action.controller.js"></script>
    <script src="fnf/commands/mkdir/mkdir.action.service.js"></script>
    <script src="fnf/commands/mkdir/mkdir.action.controller.js"></script>
    <script src="fnf/commands/find/find.action.sevice.js"></script>
    <script src="fnf/commands/find/find.action.controller.js"></script>
    <script src="fnf/commands/rename/rename.action.service.js"></script>
    <script src="fnf/commands/rename/rename.action.controller.js"></script>
    <script src="fnf/commands/multirename/multirename.data.service.js"></script>
    <script src="fnf/commands/multirename/multirename.action.service.js"></script>
    <script src="fnf/commands/multirename/multirename.action.controller.js"></script>


    <script src="fnf/commands/walk/deepselection.service.js"></script>
    <script src="fnf/commands/walk/deepsumsize.service.js"></script>

    <script src="fnf/commands/select/selection.sevice.js"></script>
    <script src="fnf/commands/select/selection.controller.js"></script>
    <script src="fnf/commands/select/deselection.controller.js"></script>

    <script src="fnf/config/color.service.js"></script>
    <script src="fnf/config/config.service.js"></script>
    <script src="fnf/config/tool.service.js"></script>

    <script src="fnf/config/color/colorconfig.service.js"></script>
    <script src="fnf/config/color/colorconfig.controller.js"></script>

    <script src="fnf/grid/grid.popup.controller.js"></script>

    <script src="../release/js/templates.js"></script>
    <!-- endbuild -->
</head>



<body class="dark fnf fullbleed layout vertical fit" ng-controller="AppController as main" ng-init="main.init();">

    <div style="position:relative;display:block;width:0;height:0;margin:0;padding:0;" ng-controller="GridPopupController as popup">
        <div class="btn-group dropdown" role="group" id="gridPopup" aria-haspopup="true" aria-expanded="false">
            <div class="dropdown-menu" style="min-width: 20em;" data-toggle="dropdown">
                <a class="dropdown-item text-nowrap" href="#">Find...</a>
                <a class="dropdown-item text-nowrap" href="#">Find...</a>
                <a class="dropdown-item text-nowrap" href="#">Find...</a>
                <a class="dropdown-item text-nowrap" href="#">Find...</a>
            </div>
        </div>
    </div>

    <!-- ******************************************************************************* -->
    <div class="fnf-header">
        <div class="horizontal layout fnf-panel-bg">
            <div class="flex-1" ng-class="{'fnf-active-panel':main.data.activePanelIndex===0}" ng-click="main.setActivePanel(0)">
                <pathlabel class="fnf-path-label" path="main.getDir(0)" on-folder-changed="main.setFolder(0, folder)"></pathlabel>
                &nbsp;
                <i ng-show="main.isFav(main.getDir(0))" ng-click="main.unfav(main.getDir(0))" class="fa fa-star text-selected"></i>
                <i ng-hide="main.isFav(main.getDir(0))" ng-click="main.fav(main.getDir(0))" class="fa fa-star-o"></i>
            </div>
            <div class="flex-1" ng-class="{'fnf-active-panel':main.data.activePanelIndex===1}" ng-click="main.setActivePanel(1)">
                <pathlabel class="fnf-path-label" path="main.getDir(1)" on-folder-changed="main.setFolder(1, folder)"></pathlabel>
                &nbsp;
                <i ng-show="main.isFav(main.getDir(1))" ng-click="main.unfav(main.getDir(1))" class="fa fa-star text-selected"></i>
                <i ng-hide="main.isFav(main.getDir(1))" ng-click="main.fav(main.getDir(1))" class="fa fa-star-o"></i>
            </div>
        </div>

        <div class="horizontal layout fnf-panel-bg">
            <div class="flex-1" ng-class="{'fnf-active-panel':main.data.activePanelIndex===0}">
                <ul class="nav nav-tabs" ng-click="main.setActivePanel(0)" ng-dblclick="main.reload(0)" title="Double click for refresh">
                    <li class="nav-item">
                        <div class="btn-group" role="group">
                            <folderbtn starting-points="main.data.folderLatestAdded"
                                       label="main.getFolderLabel(0)"
                                       on-folder-changed="main.setFolder(0, folder)"></folderbtn>
                        </div>
                    </li>
                    <li ng-repeat="tab in main.data.tabs[0]" class="nav-item">
                        <a class="nav-link pull-left" href="#"
                           ng-class="{'active': tab.active, 'font-weight-bold':(tab.active && main.data.activePanelIndex===0), 'blinking':tab.running}"
                           ng-click="main.onTabClicked(0, tab)"
                           ng-dblclick="main.onTabDblclicked(0, tab)"
                           ng-bind="tab.label"></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" ng-click="main.addTab(0)">+</a>
                    </li>

                    <li class="nav-item pull-xs-right fnf-filter">
                        <filter-input quick-filter-text="main.getGridOptions(0).quickFilterText"></filter-input>
                    </li>
                </ul>
            </div>

            <div class="flex-1" ng-class="{'fnf-active-panel':main.data.activePanelIndex===1}">
                <ul class="nav nav-tabs" ng-click="main.setActivePanel(1)" ng-dblclick="main.reload(1)" title="Double click for refresh">
                    <li class="nav-item">
                        <folderbtn starting-points="main.data.folderLatestAdded"
                                   label="main.getFolderLabel(1)"
                                   on-folder-changed="main.setFolder(1, folder)"
                                   data-placement="bottom"
                                   id="fnf-folder-btn-right"></folderbtn>
                        <color-popover visible="main.colorPopoverVisible"
                                       target="'#fnf-folder-btn-right'"
                                       values="['--footer-primary-background-color', '--footer-primary-color']"></color-popover>
                    </li>

                    <li ng-repeat="tab in main.data.tabs[1]" class="nav-item">
                        <a class="nav-link pull-left" href="#"
                           ng-class="{'active': tab.active, 'font-weight-bold':(tab.active && main.data.activePanelIndex===1), 'blinking':tab.running}"
                           ng-click="main.onTabClicked(1, tab)"
                           ng-dblclick="main.onTabDblclicked(1, tab)"
                           ng-bind="tab.label"></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" ng-click="main.addTab(1)">+</a>
                    </li>

                    <li class="nav-item pull-xs-right fnf-filter">
                        <filter-input quick-filter-text="main.getGridOptions(1).quickFilterText"></filter-input>
                    </li>
                </ul>
            </div>
        </div>

    </div>
    <!-- ******************************************************************************* -->

    <div class="fnf-content scroll flex horizontal layout" drag-enter="main.openDropDialog(e)">
        <div id="fnf-left-panel" class="flex-1 fnf-grid-container"
             ng-click="main.setActivePanel(0)" ng-class="{'fnf-active-panel':main.data.activePanelIndex===0}"
             xxxright-click="main.popupMenu(event, 0)">
            <div id="fnf-left-grid" class="fnf-grid" ag-grid="main.getGridOptions(0)"></div>
        </div>

        <div id="fnf-right-panel" class="flex-1 fnf-grid-container"
             ng-click="main.setActivePanel(1)" ng-class="{'fnf-active-panel':main.data.activePanelIndex===1}"
             xxxright-click="main.popupMenu(event, 1)">
            <div id="fnf-right-grid" class="fnf-grid" ag-grid="main.getGridOptions(1)"></div>
        </div>
    </div>

    <!--<div class="dropdown" id="droptest">-->
        <!--<div class="dropdown-menu">-->
            <!--<a class="dropdown-item" href="#">Regular link</a>-->
            <!--<a class="dropdown-item disabled" href="#">Disabled link</a>-->
            <!--<a class="dropdown-item" href="#">Another link</a>-->
        <!--</div>-->
    <!--</div>-->
    <!-- ******************************************************************************* -->

    <div class="fnf-footer">
        <div class="horizontal layout fnf-panel-bg fnf-filecount-row">
            <div class="flex-1">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                    <filecount model="main.getGridModel(0)"></filecount>
                </div>
            </div>
            <div class="flex-1">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                    <filecount model="main.getGridModel(1)"></filecount>
                </div>
            </div>
        </div>

        <div class="fnf-footer fnf-panel-bg fnf-button-row">
            <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">

                <div class="btn-group pull-right" role="group" aria-label="Second group">
                    <button class="btn btn-link {{main.getQueueProgress().class}}"> {{ main.getQueueProgress().getInfoText() }}</button>
                    <button ng-show="main.getQueueStatus()==='RUNNING'"
                            type="button"
                            class="btn btn-secondary"
                            ng-class="{'bg-danger': main.getQueueStatus()==='ERROR'}"
                            ng-click="main.action(main.OPEN_JOB_QUEUE_DLG)"><i class="fa fa-circle-o-notch fa-spin"></i></button>
                    <button ng-hide="main.getQueueStatus()==='RUNNING'"
                            type="button"
                            class="btn btn-secondary"
                            ng-class="{'bg-danger': main.getQueueStatus()==='ERROR'}"
                            ng-click="main.action(main.OPEN_JOB_QUEUE_DLG)"><i class="fa fa-tasks"></i></button>
                </div>
                <div class="btn-group pull-right col-xs-2" role="group" aria-label="" style="padding-top:10px;" ng-show="main.getQueueProgress().unfinished">
                    <progress class="progress m-b-0"
                              ng-class="{'progress-success':main.getQueueStatus()==='RUNNING', 'progress-danger': main.getQueueStatus()==='ERROR'}"
                              value="{{main.getQueueProgress().finished}}" max="{{(main.getQueueProgress().finished + main.getQueueProgress().unfinished)}}">25%</progress>
                </div>


                <div class="btn-group" role="group" aria-label="Actions">
                    <button type="button" class="btn btn-secondary" ng-click="main.action(main.OPEN_COPY_DLG)"
                            title="{{::main.getShortcutByActionId(main.OPEN_COPY_DLG)}}"
                            ng-bind-html="main.printShortcutByActionIdAsHtml(main.OPEN_COPY_DLG) + ' Copy'"></button>

                    <button type="button" class="btn btn-secondary" ng-click="main.action(main.OPEN_MOVE_DLG)"
                            title="{{::main.getShortcutByActionId(main.OPEN_MOVE_DLG)}}"
                            ng-bind-html="main.printShortcutByActionIdAsHtml(main.OPEN_MOVE_DLG) +' Move'"></button>

                    <button type="button" class="btn btn-secondary" ng-click="main.action(main.OPEN_MKDIR_DLG)"
                            title="{{::main.getShortcutByActionId(main.OPEN_MKDIR_DLG)}}"
                            ng-bind-html="main.printShortcutByActionIdAsHtml(main.OPEN_MKDIR_DLG) + ' Create Dir'"></button>

                    <button type="button" class="btn btn-secondary" ng-click="main.action(main.OPEN_DELETE_DLG)"
                            title="{{::main.getShortcutByActionId(main.OPEN_DELETE_DLG)}}"
                            ng-bind-html="main.printShortcutByActionIdAsHtml(main.OPEN_DELETE_DLG) + ' Delete'"></button>

                    <div class="btn-group dropup" role="group">
                        <button id="btnGroupDropCommands" type="button" class="btn btn-secondary dropdown-toggle"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Action&nbsp;</button>
                        <div ng-if="main.data.configLoaded" class="dropdown-menu" aria-labelledby="btnGroupDropCommands" style="min-width: 20em;">
                            <menuitem mid="main.OPEN_FIND_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.OPEN_CHDIR_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.RELOAD_DIR" on-item-clicked="main.action(mid)"></menuitem>
                            <div class="dropdown-divider"></div>
                            <!--<menuitem mid="main.OPEN_FIND_DUBLICATES_DLG" on-item-clicked="main.action(mid)"></menuitem>-->
                            <menuitem mid="main.OPEN_RENAME_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.OPEN_MULTIRENAME_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.OPEN_GROUPFILES_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.OPEN_DELETE_EMPTY_FOLDERS_DLG" on-item-clicked="main.action(mid)"></menuitem>

                            <div class="dropdown-divider"></div>
                            <menuitem mid="main.COPY_2_CLIPBOARD_NAMES" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.COPY_2_CLIPBOARD_NAMES_AS_JSON" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.COPY_2_CLIPBOARD_FULLNAMES" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.COPY_2_CLIPBOARD_FULLNAMES_AS_JSON" on-item-clicked="main.action(mid)"></menuitem>

                            <div class="dropdown-divider"></div>
                            <menuitem mid="main.OPEN_GOTO_ANYTHING_DLG" on-item-clicked="main.action(mid)"></menuitem>
                        </div>
                    </div>
                </div>

                <div class="btn-group" role="group" aria-label="Selection">
                    <div class="btn-group dropup dropleft" role="group">
                        <button id="btnGroupDropCommandsForSelection" type="button" class="btn btn-secondary dropdown-toggle"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sel&nbsp;</button>
                        <div ng-if="main.data.configLoaded" class="dropdown-menu" aria-labelledby="btnGroupDropCommandsForSelection" style="min-width: 20em;">
                            <menuitem mid="main.OPEN_SELECT_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.OPEN_DESELECT_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.TOGGLE_SELECTION" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.SELECT_ALL" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.DESELECT_ALL" on-item-clicked="main.action(mid)"></menuitem>
                            <div class="dropdown-divider"></div>
                            <menuitem mid="main.NAVIGATE_LEVEL_DOWN" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.NAVIGATE_BACK" on-item-clicked="main.action(mid)"></menuitem>
                            <div class="dropdown-divider"></div>
                            <menuitem mid="main.SELECT_LEFT_PANEL" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.SELECT_RIGHT_PANEL" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.TOGGLE_PANEL" on-item-clicked="main.action(mid)"></menuitem>
                            <div class="dropdown-divider"></div>
                            <menuitem mid="main.ADD_NEW_TAB" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.REMOVE_TAB" on-item-clicked="main.action(mid)"></menuitem>
                        </div>
                    </div>
                </div>

                <div ng-if="main.data.tools.length" class="btn-group" role="group" aria-label="Tools">
                    <div class="btn-group dropup dropleft" role="group">
                        <button id="btnGroupDropCommandsForTools" type="button" class="btn btn-secondary dropdown-toggle"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tools&nbsp;</button>
                        <div class="dropdown-menu" aria-labelledby="btnGroupDropCommandsForTools" style="min-width: 20em;">
                            <toolmenuitem ng-repeat="t in main.data.tools" tool="t" on-item-clicked="main.runTool(tool)"></toolmenuitem>
                        </div>
                    </div>
                </div>

                <div ng-if="main.data.availableStyles.length" class="btn-group" role="group" aria-label="Tools">
                    <div class="btn-group dropup dropleft" role="group">
                        <button id="btnGroupDropCommandsForStyles" type="button" class="btn btn-secondary dropdown-toggle"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-paint-brush"></i></button>
                        <div class="dropdown-menu" aria-labelledby="btnGroupDropCommandsForStyles" style="min-width: 20em;">
                            <a class="dropdown-item text-nowrap" href="#"
                               ng-repeat="style in main.data.availableStyles"
                               ng-click="main.setStyle(style)"
                               ng-bind-html="style"></a>

                            <div class="dropdown-divider"></div>
                            <menuitem mid="main.OPEN_COLORCONFIG_DLG" on-item-clicked="main.action(mid)"></menuitem>
                            <menuitem mid="main.SAVE_CONFIG" on-item-clicked="main.action(mid)"></menuitem>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- ******************************************************************************* -->

</body>
</html>